function _0x53b1(){const _0x38032d=['Attempting\x20to\x20reconnect\x20for\x20token:','Heartbeat\x20sent\x20for\x20provider:\x20','System\x20Updated:','1025412upgFrV','success','\x20seconds\x20|\x20Credits\x20earned:','1145211UiotFH','5kDpseS','warn','agent','acknowledged','647535fVUGsw','message','serverMetrics','Error\x20parsing\x20message:','toString','0.1.7','3391308rCRwPd','send','heartbeat','125528yojmMT','Total\x20uptime:\x20','108752iECHcJ','error','stringify','type','unknown','active','data','close','5513528fLbsrQ','wss://ws.oasis.ai/?token=','Invalid\x20body','WebSocket\x20error\x20for\x20token:','code'];_0x53b1=function(){return _0x38032d;};return _0x53b1();}(function(_0x3f34e2,_0x4f23dc){const _0x52c94b=_0x4f67,_0x2c2393=_0x3f34e2();while(!![]){try{const _0x5d4535=-parseInt(_0x52c94b(0x1f3))/0x1+parseInt(_0x52c94b(0x1f5))/0x2+parseInt(_0x52c94b(0x1e5))/0x3+-parseInt(_0x52c94b(0x205))/0x4*(-parseInt(_0x52c94b(0x1e6))/0x5)+parseInt(_0x52c94b(0x1f0))/0x6+-parseInt(_0x52c94b(0x1ea))/0x7+-parseInt(_0x52c94b(0x1fd))/0x8;if(_0x5d4535===_0x4f23dc)break;else _0x2c2393['push'](_0x2c2393['shift']());}catch(_0x403b53){_0x2c2393['push'](_0x2c2393['shift']());}}}(_0x53b1,0x558fc));function _0x4f67(_0x3daac3,_0x40d6f4){const _0x53b140=_0x53b1();return _0x4f67=function(_0x4f6766,_0x1f68fc){_0x4f6766=_0x4f6766-0x1e5;let _0x4cb649=_0x53b140[_0x4f6766];return _0x4cb649;},_0x4f67(_0x3daac3,_0x40d6f4);}import _0x24be7b from'ws';import{HttpsProxyAgent}from'https-proxy-agent';import{generateRandomId,generateRandomSystemData}from'./system.js';import{delay}from'../api/file.js';import{logger}from'../utils/logger.js';export async function createConnection(_0xebb078,_0x5747df=null){const _0x25e54c=_0x4f67,_0x1c0037={};_0x5747df&&(logger('Connect\x20Using\x20proxy:\x20'+_0x5747df),_0x1c0037[_0x25e54c(0x1e8)]=new HttpsProxyAgent(_0x5747df));const _0xb3c0dc=new _0x24be7b(_0x25e54c(0x1fe)+_0xebb078,_0x1c0037);_0xb3c0dc['on']('open',async()=>{const _0x228268=_0x25e54c;logger('WebSocket\x20connection\x20established\x20for\x20providers:\x20'+_0xebb078,'',_0x228268(0x206));const _0x50dfe0=generateRandomId(),_0x502d32=generateRandomSystemData();_0xb3c0dc[_0x228268(0x1f1)](JSON[_0x228268(0x1f7)](_0x502d32)),await delay(0x7d0),_0xb3c0dc['send'](JSON[_0x228268(0x1f7)]({'id':_0x50dfe0,'type':_0x228268(0x1f2),'data':{'version':_0x228268(0x1ef),'mostRecentModel':'unknown','status':'active'}})),setInterval(()=>{const _0x242f5b=_0x228268,_0x541aa5=generateRandomId();_0xb3c0dc['send'](JSON[_0x242f5b(0x1f7)]({'id':_0x541aa5,'type':_0x242f5b(0x1f2),'data':{'version':_0x242f5b(0x1ef),'mostRecentModel':_0x242f5b(0x1f9),'status':_0x242f5b(0x1fa)}}));},0xea60);}),_0xb3c0dc['on'](_0x25e54c(0x1eb),_0x1e6f15=>{const _0x87a161=_0x25e54c,_0x2520f3=_0x1e6f15[_0x87a161(0x1ee)]();try{const _0x3d976e=JSON['parse'](_0x2520f3);if(_0x3d976e['type']===_0x87a161(0x1ec)){const {totalEarnings:_0xcdd45c,totalUptime:_0x43762a,creditsEarned:_0x30a938}=_0x3d976e[_0x87a161(0x1fb)];logger(_0x87a161(0x203)+_0xebb078),logger(_0x87a161(0x1f4)+_0x43762a+_0x87a161(0x207),_0x30a938);}else{if(_0x3d976e[_0x87a161(0x1f8)]===_0x87a161(0x1e9))logger(_0x87a161(0x204),_0x2520f3,'warn');else{if(_0x3d976e[_0x87a161(0x1f8)]===_0x87a161(0x1f6)&&_0x3d976e[_0x87a161(0x1fb)][_0x87a161(0x201)]===_0x87a161(0x1ff)){const _0x49e305=generateRandomSystemData();_0xb3c0dc[_0x87a161(0x1f1)](JSON['stringify'](_0x49e305));}}}}catch(_0x406c13){logger(_0x87a161(0x1ed),_0x87a161(0x1f6));}}),_0xb3c0dc['on'](_0x25e54c(0x1fc),()=>{logger('WebSocket\x20connection\x20closed\x20for\x20token:',_0xebb078,'warn'),setTimeout(()=>{const _0x5bf5de=_0x4f67;logger(_0x5bf5de(0x202),_0xebb078,_0x5bf5de(0x1e7)),createConnection(_0xebb078,_0x5747df);},0x1388);}),_0xb3c0dc['on']('error',_0x52c647=>{const _0x434002=_0x25e54c;logger(_0x434002(0x200),_0xebb078,_0x434002(0x1f6));});}
